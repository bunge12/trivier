(this["webpackJsonptrivier-front"]=this["webpackJsonptrivier-front"]||[]).push([[0],{40:function(e,n,t){e.exports=t.p+"static/media/quiz.b23ea208.svg"},41:function(e,n,t){e.exports=t(83)},46:function(e,n,t){},47:function(e,n,t){},79:function(e,n){},83:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(35),c=t.n(o),l=(t(46),t(3)),u=t(1),i=(t(47),t(2)),m=t(36),d=t.n(m)()("http://localhost:8001");function s(){var e=Object(u.a)(["\n  background: none;\n  padding: 1em;\n  border: 1px solid #0075c7;\n  border-radius: 1em;\n  margin-top: 0.5vh;\n  margin-bottom: 0.5vh;\n  color: #0075c7;\n  width: 50%;\n  :focus {\n    outline: none;\n  }\n"]);return s=function(){return e},e}var f=i.a.input(s());function b(e){var n=Object(r.useState)(""),t=Object(l.a)(n,2),o=t[0],c=t[1];return a.a.createElement(f,{type:"text",placeholder:e.placeholder,value:o,onChange:function(n){c(n.target.value),e.callback(n.target.value)}})}function g(){var e=Object(u.a)(["\n  background: none;\n  padding: 1em;\n  border: 1px solid #0075c7;\n  border-radius: 1em;\n  margin-top: 0.5vh;\n  margin-bottom: 0.5vh;\n  color: #0075c7;\n  width: 50%;\n  :focus {\n    outline: none;\n  }\n"]);return g=function(){return e},e}var E=i.a.button(g());function p(e){return a.a.createElement(E,{onClick:e.callback},e.text)}function v(){var e=Object(u.a)(["\n  background: none;\n  color: rgb(29, 54, 92);\n  border: 1px solid rgb(29, 54, 92);\n  padding: 0.25rem;\n  border-radius: 0.5rem;\n  margin: 0.25rem;\n  text-align: center;\n  width: 50%;\n  display: inline-block;\n"]);return v=function(){return e},e}function O(){var e=Object(u.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  margin-bottom: 3vh;\n"]);return O=function(){return e},e}var h=i.a.ul(O()),j=i.a.li(v());function y(e){var n=e.players.map((function(e,n){return a.a.createElement(j,{key:n},e.name)}));return a.a.createElement(h,null,n)}function x(){var e=Object(u.a)(["\n  font-weight: 600;\n  color: #0075c7;\n"]);return x=function(){return e},e}function k(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-around;\n  margin-top: 1vh;\n  margin-bottom: 1vh;\n  color: #0075c7;\n"]);return k=function(){return e},e}var w=i.a.div(k()),C=i.a.span(x());function S(e){return a.a.createElement(w,null,a.a.createElement(C,null,"Room Code: ",e.room))}function T(){var e=Object(u.a)(["\n  background: rgb(95, 192, 136);\n  padding: 1em;\n  border: 1px solid rgb(95, 192, 136);\n  border-radius: 1em;\n  margin-top: 0.5vh;\n  margin-bottom: 0.5vh;\n  color: white;\n  width: 40%;\n  font-weight: bold;\n  :focus {\n    outline: none;\n  }\n"]);return T=function(){return e},e}function G(){var e=Object(u.a)(["\n  background: rgb(235, 129, 130);\n  border: 1px solid rgb(235, 129, 130);\n  padding: 1em;\n  border-radius: 1em;\n  margin-top: 0.5vh;\n  margin-bottom: 0.5vh;\n  color: white;\n  width: 40%;\n  font-weight: bold;\n  :focus {\n    outline: none;\n  }\n"]);return G=function(){return e},e}function M(){var e=Object(u.a)(["\n  background: none;\n  padding: 1em;\n  border: 1px solid #0075c7;\n  border-radius: 1em;\n  margin-top: 0.5vh;\n  margin-bottom: 0.5vh;\n  color: #0075c7;\n  width: 40%;\n  :focus {\n    outline: none;\n  }\n"]);return M=function(){return e},e}var N=i.a.button(M()),A=i.a.button(G()),F=i.a.button(T());function I(e){var n=Object(r.useState)(0),t=Object(l.a)(n,2),o=t[0],c=t[1],u=function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value}(e.text);Object(r.useEffect)((function(){e.showCorrect===e.answerIndex&&c(1)}),[e.showCorrect,e.answerIndex]);var i=function(n){e.callback(n.target.innerText),n.target.innerText===e.winner?c(1):c(2)};return a.a.createElement(a.a.Fragment,null,0===o&&a.a.createElement(N,{onClick:i,disabled:e.disabled},u),1===o&&a.a.createElement(F,{onClick:i,disabled:e.disabled},u),2===o&&a.a.createElement(A,{onClick:i,disabled:e.disabled},u))}function L(){var e=Object(u.a)(["\n  text-align: center;\n  margin-top: 3vh;\n"]);return L=function(){return e},e}function W(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  margin-top: 5vh;\n"]);return W=function(){return e},e}function R(){var e=Object(u.a)([""]);return R=function(){return e},e}function J(){var e=Object(u.a)(["\n  margin-top: 3vh;\n"]);return J=function(){return e},e}var q=i.a.div(J()),B=i.a.div(R()),P=i.a.div(W()),Y=i.a.div(L());function z(e){var n,t=e.data,o=t.question,c=t.correct_answer,u=t.all_answers,i=t.type,m=Object(r.useState)(null),d=Object(l.a)(m,2),s=d[0],f=d[1],b=Object(r.useState)(!1),g=Object(l.a)(b,2),E=g[0],p=g[1],v=Object(r.useState)(7),O=Object(l.a)(v,2),h=O[0],j=O[1];"multiple"===i&&(n=u),"boolean"===i&&(n=["True","False"]),Object(r.useEffect)((function(){h<1&&(f(n.indexOf(c)),p(!0));var e=h>0&&setInterval((function(){return j(h-1)}),1e3);return function(){return clearInterval(e)}}),[h,n,c]);var y=function(t){t===c?(e.score(),p(!0)):(f(n.indexOf(c)),p(!0))},x=n.map((function(e,n){return a.a.createElement(I,{key:e,callback:y,text:e,winner:c,showCorrect:s,answerIndex:n,disabled:E})}));return a.a.createElement(q,null,a.a.createElement(B,null,function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value}(o)),a.a.createElement(P,null,x),a.a.createElement(Y,null,"00:",h>9?h:"0"+h))}function D(){var e=Object(u.a)(["\n  background: none;\n  color: rgb(29, 54, 92);\n  border: 1px solid rgb(29, 54, 92);\n  padding: 0.25rem;\n  border-radius: 0.5rem;\n  margin: 0.25rem;\n  text-align: center;\n  width: 50%;\n  display: inline-block;\n"]);return D=function(){return e},e}function H(){var e=Object(u.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]);return H=function(){return e},e}var Q=i.a.ul(H()),_=i.a.li(D());function K(e){var n=e.players.sort((function(e,n){return n.score-e.score})).map((function(e,n){return a.a.createElement(_,{key:n},e.name," - ",e.score)}));return a.a.createElement(Q,null,n)}function U(){var e=Object(u.a)(["\n  color: ",";\n  background-color: ",";\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  margin-top: 1rem;\n  border: 1px solid transparent;\n  border-color: ",";\n  border-radius: 0.25rem;\n"]);return U=function(){return e},e}var V=i.a.div(U(),(function(e){return"error"===e.type?"#856404":"#155724"}),(function(e){return"error"===e.type?"#fff3cd":"#d4edda"}),(function(e){return"error"===e.type?"#ffeeba":"#c3e6cb"}));function X(e){return a.a.createElement(V,{type:e.type},e.text)}var Z=t(40),$=t.n(Z);function ee(){var e=Object(u.a)(["\n  color: #1d365c;\n  font-size: x-small;\n  text-decoration: none;\n"]);return ee=function(){return e},e}function ne(){var e=Object(u.a)(["\n  width: 75%;\n  margin: 2rem;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n"]);return ne=function(){return e},e}function te(){var e=Object(u.a)(['\n  font-family: "Luckiest Guy", cursive;\n  margin-bottom: 1vh;\n  font-size: xx-large;\n  color: #22c1c3;\n']);return te=function(){return e},e}var re=i.a.div(te()),ae=i.a.img(ne()),oe=i.a.span(ee());var ce=function(){var e=Object(r.useState)(null),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(null),u=Object(l.a)(c,2),i=u[0],m=u[1],s=Object(r.useState)(null),f=Object(l.a)(s,2),g=f[0],E=f[1],v=Object(r.useState)(null),O=Object(l.a)(v,2),h=O[0],j=O[1],x=Object(r.useState)("WELCOME"),k=Object(l.a)(x,2),w=k[0],C=k[1],T=Object(r.useState)(!1),G=Object(l.a)(T,2),M=G[0],N=G[1],A=Object(r.useState)(null),F=Object(l.a)(A,2),I=F[0],L=F[1],W=Object(r.useState)(null),R=Object(l.a)(W,2),J=R[0],q=R[1],B=Object(r.useState)({}),P=Object(l.a)(B,2),Y=P[0],D=P[1];Object(r.useEffect)((function(){j(function(e){for(var n="",t="ABCDEFGHIJKLMNPQRSTUVWXYZ123456789",r=t.length,a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*r));return n}(6)),d.on("roomFound",(function(e){q({type:"success",message:"Joined room ".concat(e)},setTimeout((function(){q(null)}),4e3)),m(e),C("NAME")})),d.on("roomNotFound",(function(){q({type:"error",message:"Room not found!"},setTimeout((function(){q(null)}),4e3))})),d.on("waitingToStart",(function(e,n){L(e),m(e[0].room),C("WAITING"),n&&N(!0),D(e[0].questions[0])})),d.on("someoneLeft",(function(e){L(e)})),d.on("gameStarted",(function(){C("PLAY")})),d.on("nextQuestion",(function(e,n){D(e[0].questions[n+1])})),d.on("gameOver",(function(e){L(e),C("SCOREBOARD")})),d.on("gameEnded",(function(){q({type:"error",message:"Game Ended since the admin left!"},setTimeout((function(){q(null)}),4e3)),C("WELCOME"),m(null)})),d.on("serverError",(function(){q({type:"error",message:"Server Error"},setTimeout((function(){q(null)}),4e3)),C("WELCOME")}))}),[]);var H=function(e){E(e)};return a.a.createElement("div",{className:"App"},a.a.createElement(re,null,"Trivier"),i&&a.a.createElement(S,{name:g,room:i}),"WELCOME"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ae,{src:$.a,alt:"drawing of an online quiz"}),a.a.createElement("p",null,"Play online trivia with your friends! Create or join an existing room and compete with your friends wherever they are!"),a.a.createElement(p,{text:"New Game",callback:function(){return C("NEW")}}),a.a.createElement("br",null),a.a.createElement(p,{text:"Join Game",callback:function(){return C("JOIN")}})),"NEW"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{placeholder:"Enter Your Name",callback:H}),a.a.createElement("br",null),a.a.createElement(p,{text:"Create room",callback:function(){d.emit("newGame",g,h)}})),"JOIN"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{placeholder:"Enter Room Code",callback:function(e){o(e)}}),a.a.createElement("br",null),a.a.createElement(p,{text:"Find room",callback:function(){d.emit("searchGame",t)}}),a.a.createElement("br",null),a.a.createElement(oe,{onClick:function(){C("WELCOME")}},"Go Back")),"NAME"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{placeholder:"Enter Your Name",callback:H}),a.a.createElement("br",null),a.a.createElement(p,{text:"Join room",callback:function(){d.emit("addToGame",i,g,h)}})),"WAITING"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),"Waiting room:",a.a.createElement(y,{players:I[0].players}),M&&I[0].players.length>1&&a.a.createElement(p,{text:"Start Game",callback:function(){d.emit("startGame",i)}}),a.a.createElement("br",null),M&&1===I[0].players.length&&"Waiting for other players to join..."),"PLAY"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{key:Y.question,data:Y,score:function(){d.emit("recordScore",i,h)}})),"SCOREBOARD"===w&&a.a.createElement(a.a.Fragment,null,a.a.createElement(K,{players:I[0].players}),a.a.createElement("br",null),M&&a.a.createElement(p,{text:"Play Again",callback:function(){d.emit("playAgain",i)}}),a.a.createElement("br",null),a.a.createElement(oe,{onClick:function(){C("WELCOME"),m(null),d.emit("leaveRoom",i,h,M)}},"End Game")),J&&a.a.createElement(X,{type:J.type,text:J.message}))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ce,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.70964fca.chunk.js.map